<?php

/**
 * BaseProduction
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @property string $name
 * @property integer $type_id
 * @property integer $genre_id
 * @property integer $layout_id
 * @property integer $company_id
 * @property integer $collaboration_id
 * @property integer $shot_image_id
 * @property integer $set_design_image_id
 * @property string $description
 * @property timestamp $start_at
 * @property timestamp $end_at
 * @property integer $number_of_performances
 * @property boolean $fundraiser
 * @property float $adult_ticket_price
 * @property float $child_ticket_price
 * @property float $student_ticket_price
 * @property string $notes
 * @property Type $Type
 * @property Genre $Genre
 * @property Layout $Layout
 * @property Company $Company
 * @property Collaboration $Collaboration
 * @property Image $Shot
 * @property Image $SetDesign
 * @property Doctrine_Collection $Staff
 * @property Doctrine_Collection $Roles
 * @property Doctrine_Collection $Characters
 * @property Doctrine_Collection $Sponsors
 * @property Doctrine_Collection $Donations
 * @property Doctrine_Collection $ProductionStaff
 * 
 * @method string              getName()                   Returns the current record's "name" value
 * @method integer             getTypeId()                 Returns the current record's "type_id" value
 * @method integer             getGenreId()                Returns the current record's "genre_id" value
 * @method integer             getLayoutId()               Returns the current record's "layout_id" value
 * @method integer             getCompanyId()              Returns the current record's "company_id" value
 * @method integer             getCollaborationId()        Returns the current record's "collaboration_id" value
 * @method integer             getShotImageId()            Returns the current record's "shot_image_id" value
 * @method integer             getSetDesignImageId()       Returns the current record's "set_design_image_id" value
 * @method string              getDescription()            Returns the current record's "description" value
 * @method timestamp           getStartAt()                Returns the current record's "start_at" value
 * @method timestamp           getEndAt()                  Returns the current record's "end_at" value
 * @method integer             getNumberOfPerformances()   Returns the current record's "number_of_performances" value
 * @method boolean             getFundraiser()             Returns the current record's "fundraiser" value
 * @method float               getAdultTicketPrice()       Returns the current record's "adult_ticket_price" value
 * @method float               getChildTicketPrice()       Returns the current record's "child_ticket_price" value
 * @method float               getStudentTicketPrice()     Returns the current record's "student_ticket_price" value
 * @method string              getNotes()                  Returns the current record's "notes" value
 * @method Type                getType()                   Returns the current record's "Type" value
 * @method Genre               getGenre()                  Returns the current record's "Genre" value
 * @method Layout              getLayout()                 Returns the current record's "Layout" value
 * @method Company             getCompany()                Returns the current record's "Company" value
 * @method Collaboration       getCollaboration()          Returns the current record's "Collaboration" value
 * @method Image               getShot()                   Returns the current record's "Shot" value
 * @method Image               getSetDesign()              Returns the current record's "SetDesign" value
 * @method Doctrine_Collection getStaff()                  Returns the current record's "Staff" collection
 * @method Doctrine_Collection getRoles()                  Returns the current record's "Roles" collection
 * @method Doctrine_Collection getCharacters()             Returns the current record's "Characters" collection
 * @method Doctrine_Collection getSponsors()               Returns the current record's "Sponsors" collection
 * @method Doctrine_Collection getDonations()              Returns the current record's "Donations" collection
 * @method Doctrine_Collection getProductionStaff()        Returns the current record's "ProductionStaff" collection
 * @method Production          setName()                   Sets the current record's "name" value
 * @method Production          setTypeId()                 Sets the current record's "type_id" value
 * @method Production          setGenreId()                Sets the current record's "genre_id" value
 * @method Production          setLayoutId()               Sets the current record's "layout_id" value
 * @method Production          setCompanyId()              Sets the current record's "company_id" value
 * @method Production          setCollaborationId()        Sets the current record's "collaboration_id" value
 * @method Production          setShotImageId()            Sets the current record's "shot_image_id" value
 * @method Production          setSetDesignImageId()       Sets the current record's "set_design_image_id" value
 * @method Production          setDescription()            Sets the current record's "description" value
 * @method Production          setStartAt()                Sets the current record's "start_at" value
 * @method Production          setEndAt()                  Sets the current record's "end_at" value
 * @method Production          setNumberOfPerformances()   Sets the current record's "number_of_performances" value
 * @method Production          setFundraiser()             Sets the current record's "fundraiser" value
 * @method Production          setAdultTicketPrice()       Sets the current record's "adult_ticket_price" value
 * @method Production          setChildTicketPrice()       Sets the current record's "child_ticket_price" value
 * @method Production          setStudentTicketPrice()     Sets the current record's "student_ticket_price" value
 * @method Production          setNotes()                  Sets the current record's "notes" value
 * @method Production          setType()                   Sets the current record's "Type" value
 * @method Production          setGenre()                  Sets the current record's "Genre" value
 * @method Production          setLayout()                 Sets the current record's "Layout" value
 * @method Production          setCompany()                Sets the current record's "Company" value
 * @method Production          setCollaboration()          Sets the current record's "Collaboration" value
 * @method Production          setShot()                   Sets the current record's "Shot" value
 * @method Production          setSetDesign()              Sets the current record's "SetDesign" value
 * @method Production          setStaff()                  Sets the current record's "Staff" collection
 * @method Production          setRoles()                  Sets the current record's "Roles" collection
 * @method Production          setCharacters()             Sets the current record's "Characters" collection
 * @method Production          setSponsors()               Sets the current record's "Sponsors" collection
 * @method Production          setDonations()              Sets the current record's "Donations" collection
 * @method Production          setProductionStaff()        Sets the current record's "ProductionStaff" collection
 * 
 * @package    bristol-old-vic-archive
 * @subpackage model
 * @author     Steve Lacey
 * @version    SVN: $Id$
 */
abstract class BaseProduction extends sfDoctrineRecord
{
    public function setTableDefinition()
    {
        $this->setTableName('production');
        $this->hasColumn('name', 'string', 255, array(
             'type' => 'string',
             'notnull' => true,
             'length' => 255,
             ));
        $this->hasColumn('type_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('genre_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('layout_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('company_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('collaboration_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('shot_image_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('set_design_image_id', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('description', 'string', null, array(
             'type' => 'string',
             'length' => '',
             ));
        $this->hasColumn('start_at', 'timestamp', null, array(
             'type' => 'timestamp',
             ));
        $this->hasColumn('end_at', 'timestamp', null, array(
             'type' => 'timestamp',
             ));
        $this->hasColumn('number_of_performances', 'integer', 20, array(
             'type' => 'integer',
             'length' => 20,
             ));
        $this->hasColumn('fundraiser', 'boolean', null, array(
             'type' => 'boolean',
             'default' => false,
             ));
        $this->hasColumn('adult_ticket_price', 'float', null, array(
             'type' => 'float',
             ));
        $this->hasColumn('child_ticket_price', 'float', null, array(
             'type' => 'float',
             ));
        $this->hasColumn('student_ticket_price', 'float', null, array(
             'type' => 'float',
             ));
        $this->hasColumn('notes', 'string', null, array(
             'type' => 'string',
             'length' => '',
             ));

        $this->option('orderBy', 'start_at desc');
    }

    public function setUp()
    {
        parent::setUp();
        $this->hasOne('Type', array(
             'local' => 'type_id',
             'foreign' => 'id'));

        $this->hasOne('Genre', array(
             'local' => 'genre_id',
             'foreign' => 'id'));

        $this->hasOne('Layout', array(
             'local' => 'layout_id',
             'foreign' => 'id'));

        $this->hasOne('Company', array(
             'local' => 'company_id',
             'foreign' => 'id'));

        $this->hasOne('Collaboration', array(
             'local' => 'collaboration_id',
             'foreign' => 'id'));

        $this->hasOne('Image as Shot', array(
             'local' => 'shot_image_id',
             'foreign' => 'id'));

        $this->hasOne('Image as SetDesign', array(
             'local' => 'set_design_image_id',
             'foreign' => 'id'));

        $this->hasMany('Staff', array(
             'refClass' => 'ProductionStaff',
             'local' => 'production_id',
             'foreign' => 'staff_id'));

        $this->hasMany('Role as Roles', array(
             'refClass' => 'ProductionStaff',
             'local' => 'production_id',
             'foreign' => 'role_id'));

        $this->hasMany('Character as Characters', array(
             'local' => 'id',
             'foreign' => 'production_id'));

        $this->hasMany('Sponsor as Sponsors', array(
             'refClass' => 'Donation',
             'local' => 'production_id',
             'foreign' => 'sponsor_id'));

        $this->hasMany('Donation as Donations', array(
             'local' => 'id',
             'foreign' => 'production_id'));

        $this->hasMany('ProductionStaff', array(
             'local' => 'id',
             'foreign' => 'production_id'));

        $timestampable0 = new Doctrine_Template_Timestampable();
        $this->actAs($timestampable0);
    }
}